def otvetrusal0 ():
    
    print ("- Может я могу позвать на помощь?", '\n')


    print (person["name"], 'заподозрил(а) неладное и оказались правы. Перед' ,person["name"], 'появился небольшой каменный мост.', '\n')
    while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")

    print (person["name"],' осторожностью переходи на другую сторону реки. Перед ним(ней) откуда не возьмись появляется небольшой мячик, покрытый шерстью, с милой голубой шляпкой на перевес.', '\n')
    while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")

    print ("- Признавайся, ждал(а) меня? Я Финкрот - самый умный во всем лесе.. или лесу?", '\n')
    while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")

    print ("- Отгадай загадку и тогда…тогда я домой тебя верну!", '\n')
    while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")

    print ("- Я загадал число от 1 до 10. Отгадай его с 3-х попыток!", '\n')
    while True:
     a = []
     for i in range (1,4):
       a.append(int(input()))
     b = set(a)
     
     if (8 in b):
       print ("- Я в тебе не сомневался! Ты угадал(а)!", '\n')
       break
     else:
       print ("Попробуй еще раз!")
    while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")


    print ("Лесное существо взмахом своей чудной шляпки нарисовал красивый портал, ведущих прямиком домой, в безопасность.", '\n')
    while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")

    print ('Портал стремительно затягивал', person["name"], 'отправляя обратно домой.', '\n')
    while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")

    print("- Фанкрот будет скучать! Будь осторожнен(на), заключая сделки с духами.", '\n')
    while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")

    print('Услышав голос своих сестер и родной матери', person["name"], 'не мог(могла) поверить в реальность происходящего...я дома', '\n')
def otvetrusal1():
 print (person["name"], 'аккуратно подошел(а) к беспомощному существу, чтобы попытаться откатить этот валун.', '\n')
 while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")

 print (person["name"], 'начинает толкать, а руки внезапно проваливаются сквозь валун. - Материя совсем не твердая, а... невесомая?', '\n')
 print("- Иллюзия?")
 while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")
 print("Русалка начинает заливаться истеричным злобным смехом, а руки ее прекращаются в подобие грабель, а миловидное личико сменяется огромной пастью без глаз и носа.", '\n')
 while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")
 print("- Глупости я такой не видела еще! Ха-ха-ха. Видела бы ты сейчас свое лицо!", '\n')
 while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")
 print("Не прошло и доли секунды, как легкие начали наполняться холодной речной водой и гореть от не сбывшейся надежды.", '\n')
 while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")
 print('Это была ловушка. Русалка утащила', person["name"], 'на дно быстротечной реки',person["name"],'  навсегда остался(ась) в заколдованном лесу.', '\n')
 while True:
     ent = input("Нажмите на Enter для продолжения...")
     if ent == "":
        break
     print("")


def progulka0 ():
  print ("Тропинка выводит к подножию, откуда издается еле слышимое журчание воды. Возможно там речка?", '\n')
  print ('Пройдя по извилистой тропинке', person["name"], 'спускается к берегу реки. Озорно струясь через небольшие валуны, вода будто играла сама с собой, пробиваясь сквозь самые маленькие щели.', '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print ("Возле реки красовалась невиданной красоты русалка. Такая измученная, нежная. Ее лицо было в слезах, а под огромным валуном кажется лежал ее жемчужный хвост.", '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")

  print ("Ее бледная кожа ,покрытая серебристыми чешуйками, светилась на солнце, а на щеках красовался алый румянец. Раздувавшийся все сильнее от попыток освободить свой жемчужный хвост от огромного валуна.", '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")

  print ("- Душенька, не видишь как мне больно? Помоги же, помоги.", '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")

  print ("Русалка дергалась и извивалась в попытках освободиться от тяжелого рока.", '\n')

  otvetrusal = ["Не помогать. Мало ли что." , "Помочь русалке. Ей больно."]
  print ("Не помогать. Мало ли что - 0."  , "Помочь русалке, ей больно - 1.")
  otvet = int(input())
  if otvet == 0:
    otvetrusal0 ()
    new_progulk00 = {'Name': person["name"], 'To the sound of the river': 0, 'Not help the mermaid': 0 }
    with open (file_path, 'a') as f:
      json.dump(new_progulk00, f, indent=4)
    
    fieldnames = ['Name', 'To the sound of the river', 'Not help the mermaid']
    if not os.path.exists(csv_file_path):
        with open(csv_file_path, 'w', newline='') as csv_file:
            csv_writer = csv.DictWriter(csv_file, fieldnames=fieldnames)
            csv_writer.writeheader()
    
    with open(csv_file_path, 'a', newline='') as csv_file:
        csv_writer = csv.DictWriter(csv_file, fieldnames=fieldnames)
        csv_writer.writerow(new_progulk00)
        
    Jsondelite()
    

  if otvet == 1:
    otvetrusal1 ()
    new_progulk01 = {'Name': person["name"], 'To the sound of the river': 0, 'Help the mermaid': 1}
    with open (file_path, 'a') as f:
      json.dump(new_progulk01, f, indent=4)
    
    fieldnames = ['Name', 'To the sound of the river', 'Help the mermaid']
    if not os.path.exists(csv_file_path):
        with open(csv_file_path, 'w', newline='') as csv_file:
            csv_writer = csv.DictWriter(csv_file, fieldnames=fieldnames)
            csv_writer.writeheader()
    
    with open(csv_file_path, 'a', newline='') as csv_file:
        csv_writer = csv.DictWriter(csv_file, fieldnames=fieldnames)
        csv_writer.writerow(new_progulk01)
        
    Jsondelite()

def vibor1 ():
  print("Когтистые лапы выглядывают из каждого бревна, камушка, дерева. Паника и ужас начинают трепетать в сердце, оседая на стенки разума липким слоем страха.", '\n') 
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print("Раз, два, три, четыре, пять..кто не спрятался, мы не виноваты!", '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print('Тяжелый голос раздался эхом по всей лесной чаще. Неужели лесные духи нашли',person["name"], '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print ('Духи нашли', person["name"], 'это было ошибкой',person["name"],' навсегда останется в заколдованном лесу.', '\n')
def vibor2 ():
  print(person["name"], 'заплутал(а) при попытки вернуться назад...')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print('Через некоторое время до',person["name"],'стали доходить слабые звуки...')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print("-Кто же это? Неужели это феи...")
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print("-Мы добрые феи этого леса. Весь лес подвластен нам. Мы поможем найти тебе дорогу домой... ")
  

def progulka1():
  print("Хочешь что-то спрятать, положи на видное место...", '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print('Лес звал',person["name"], 'гулом шуршащих листьев, затягивая во тьму хвойных ветвей.', '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print("- Откуда этот звук?")
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print(person["name"],'шагнул(а) на встречу, вслушиваясь в зов...', '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print(person["name"],'как маленький(ая) лис(а), проскальзывает между деревьев и пытается не задеть сухие ветки-пальцы старых деревьев', '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print("Треск, тяжелое дыхание где-то в глубине леса. Непонятный преследователь приближался.", '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print("Его дыхание пронизывало воздух и отпечатывалось в ушах", '\n')
  while True:
      ent = input("Нажмите на Enter для продолжения...")
      if ent == "":
        break
      print("")
  print("- Кто здесь?")
  print("Остаться в лесу - 1, Вернуться - 2")
  otveti = int(input())

  if otveti == 1:
    vibor1()
    new_progulk10 = {'Name': person["name"], 'Into the depths of the forest': 1, 'Stay in the forest': 1}
    with open (file_path, 'a') as f:
      json.dump(new_progulk10, f, indent=4)
    
    fieldnames = ['Name', 'Into the depths of the forest', 'Stay in the forest']
    if not os.path.exists(csv_file_path):
        with open(csv_file_path, 'w', newline='') as csv_file:
            csv_writer = csv.DictWriter(csv_file, fieldnames=fieldnames)
            csv_writer.writeheader()
    
    with open(csv_file_path, 'a', newline='') as csv_file:
        csv_writer = csv.DictWriter(csv_file, fieldnames=fieldnames)
        csv_writer.writerow(new_progulk10)
    
    Jsondelite()
      

  if otveti == 2:
    vibor2()
    new_progulk11 = {'Name': person["name"], 'Into the depths of the forest': 1, 'Return from the forest': 2}
    
    with open (file_path, 'a') as f:
      json.dump(new_progulk11, f, indent=4)

    
    fieldnames = ['Name', 'Into the depths of the forest', 'Return from the forest']
    
    if not os.path.exists(csv_file_path):
        with open(csv_file_path, 'w', newline='') as csv_file:
            csv_writer = csv.DictWriter(csv_file, fieldnames=fieldnames)
            csv_writer.writeheader()
    
    with open(csv_file_path, 'a', newline='') as csv_file:
        csv_writer = csv.DictWriter(csv_file, fieldnames=fieldnames)
        csv_writer.writerow(new_progulk11)
        
    Jsondelite()



       

import json
import os
import sys
import csv
desktop_path = os.path.expanduser(r"C:\Users\alepi\OneDrive\Рабочий стол")
file_path = os.path.join(desktop_path, "personal.json")
csv_file_path = 'data.csv'

         
def Jsondelite():
    print("Ваша игра была сохранена. Хотели ли бы вы удалить ее сохранение?")
    print("1.Да\n2.Нет")
    choice = input().strip()
    if choice.lower() == '1':
      with open(file_path, 'w'):
          pass
      os.remove(file_path)
      print("Удаление было завершено!")
      sys.exit()
    else:
      sys.exit()
 
print("Игра сохранится только по завершению сценария!")
print ("Создайте персонажа:")


spNames = []

if os.path.exists(file_path):
    try:
        with open(file_path, "r") as json_file:
            data = json.load(json_file)

        if isinstance(data, dict):
            spNames = [data.get("name")]
        else:
            print("Содержимое JSON файла не является словарем.")
    except FileNotFoundError:
        print(f"Файл не найден: {file_path}")
    except json.decoder.JSONDecodeError as e:
        print(f"Ошибка декодирования JSON: {e}")





 

print("Введите ник:")
name = input()

if name in spNames:
    print("Такое имя уже существует.")
    sys.exit(0)


person = dict(name=name)
s = person["name"]
print (f"Маленькая(ий) {s} подхватил(а) бутылочку с сонным отваром, украденную у мамы. Засунул(а) ве в пришитый заранее карман белого платья и прыгнула в заколдованную книгу с рассказами про лесных духов", '\n')
while True:
  ent = input("Нажмите на Enter для продолжения...")
  if ent == "":
    break
  print("")


print ('Игра началась...', '\n')
while True:
  ent = input("Нажмите на Enter для продолжения...")
  if ent == "":
    break
  print("")
print (person["name"],'оказался(ась) в заколдованном лесу, куда ему(ей) пойти?', '\n') 
progulka = ["На шум реки","В глубь леса"]
print ("На шум реки - 0","В глубь леса - 1")
nomber = int (input())
if nomber == 0:
   progulka0()
if nomber == 1:
  progulka1() 